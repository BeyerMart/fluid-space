<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SVG Animation</title>
  <style>
    body {
      position: relative;
    }
    svg {
      position: absolute;
    }

    .pathcontainer1 {
      width:100%;
      height:100%;
      position: absolute;
      top:140px;
      left:450px;
      scale:0.7;
    }

  </style>
</head>
<body>
  <div class="pathcontainer1" style="width:692px;height:292px">
  <svg width="692" height="292" fill="none" xmlns="http://www.w3.org/2000/svg" class="pathcontainer">
    <path d="M1 271.5L251.5 291.5C284.333 285.667 350 257.8 350 193C350 128.2 371.333 38 382 1L690.5 30.5L630.5 217.5" stroke="black" class="buspath1" />
  </svg>
  <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="none" viewBox="0 0 36 36" class="busicon">
    <path fill="#000" fill-rule="evenodd"
        d="M8.019 6.519C7.533 7.005 7.25 7.789 7.25 9v7.75h21.5V9c0-1.211-.282-1.995-.769-2.481-.486-.486-1.27-.769-2.481-.769h-15c-1.211 0-1.995.283-2.481.769M7.25 27.25v-9.5h21.5v9.5zm.062-21.438C8.06 5.063 9.152 4.75 10.5 4.75h15c1.348 0 2.44.313 3.188 1.062S29.75 7.652 29.75 9v4.75h1.5v2.5h-1.5v15h-5.498v-3H11.75v3h-5.5v-15h-1.5v-2.5h1.5V9c0-1.348.313-2.44 1.062-3.188M29.75 15.25h.5v-.5h-.5zm-4.498 13h3.498v2h-3.498zm-18.002 0h3.5v2h-3.5zm-1-13.5v.5h-.5v-.5zm19.25-7h-15v1h15zm-15 15a1.251 1.251 0 0 0 0 2.5 1.25 1.25 0 0 0 0-2.5M10.25 24c0-.138.113-.25.25-.25s.25.112.25.25a.25.25 0 0 1-.5 0m14 0a1.251 1.251 0 0 1 2.5 0 1.25 1.25 0 0 1-2.5 0m1.25-.25a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5"
        clip-rule="evenodd"></path>
  </svg>
</div>
  <img src="map.svg" style="width:100%;" />


  <!-- Include GSAP library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.0/gsap.min.js"></script>
  <script>
    // Query DOM Elements
    const path = document.querySelector('.buspath1');
    const circle = document.querySelector('.busicon');

    // Create an object that gsap can animate
    const val = { distance: 0 };

    // Create a tween
    gsap.to(val, {
      ease: 'none',
      // Animate from distance 0 to the total distance
      distance: path.getTotalLength(),
      // Loop the animation
      repeat: -1,
      // Make the animation lasts 5 seconds
      duration: 10,

      transform: "translate(140px,450px)",
      // Function call on each frame of the animation
      onUpdate: () => {
        // Query a point at the new distance value
        const point = path.getPointAtLength(val.distance);

        // Update the circle coordinates
        circle.setAttribute('transform', "translate(" + (point.x-12.5) + "," + (point.y-12.5) + ")");
        // circle.setAttribute('cy', point.y);

      }
    });
  </script>
  <!-- <script src="./animation.ts"></script> -->
</body>
</html>
